<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-relying-party/api-def">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">API definition | Passkey workshop</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yubicolabs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yubicolabs.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yubicolabs.github.io/docs/relying-party/api-def"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API definition | Passkey workshop"><meta data-rh="true" name="description" content="This section will discuss the API that defines a client&#x27;s ability to interact with the relying party (RP) application. By the end of this section you should understand best practices for the API that should translate to better comprehension on how the application should behave."><meta data-rh="true" property="og:description" content="This section will discuss the API that defines a client&#x27;s ability to interact with the relying party (RP) application. By the end of this section you should understand best practices for the API that should translate to better comprehension on how the application should behave."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yubicolabs.github.io/docs/relying-party/api-def"><link data-rh="true" rel="alternate" href="https://yubicolabs.github.io/docs/relying-party/api-def" hreflang="en"><link data-rh="true" rel="alternate" href="https://yubicolabs.github.io/docs/relying-party/api-def" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4e39bbaf.css">
<link rel="preload" href="/assets/js/runtime~main.b5a32301.js" as="script">
<link rel="preload" href="/assets/js/main.1b0737be.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/yubico-logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/yubico-logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Passkey workshop</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/YubicoLabs/passkey-workshop" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Passkey Workshop</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/fundamentals">Fundamentals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Fundamentals&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/architecture">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/deploy">Deploy project</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/relying-party">Relying Party</a><button aria-label="Toggle the collapsible sidebar category &#x27;Relying Party&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/relying-party/api-def">API definition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/relying-party/config-and-data">Data sources and RP configurations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/relying-party/reg-flow">Registration flows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/relying-party/auth-flow">Authentication flows</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/web-client">Web client</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web client&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/mobile-client">Mobile client</a><button aria-label="Toggle the collapsible sidebar category &#x27;Mobile client&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/advanced-use-cases">Advanced use cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced use cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/relying-party"><span itemprop="name">Relying Party</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">API definition</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>API definition</h1><p>This section will discuss the API that defines a client&#x27;s ability to interact with the relying party (<strong>RP</strong>) application. By the end of this section you should understand best practices for the API that should translate to better comprehension on how the application should behave.</p><p>Note that these best practices are for general passkey applications. The API defined in this section will evolve in later sections to accommodate different use cases.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2><p>Ensure that you have deployed the RP sample found in this project.</p><p><a href="/docs/deploy">Follow the instructions on this page to deploy the application.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-the-api-documentation">Accessing the API documentation<a href="#accessing-the-api-documentation" class="hash-link" aria-label="Direct link to Accessing the API documentation" title="Direct link to Accessing the API documentation">​</a></h2><p>Once your project is deployed, the API documentation can be found at: <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">http://localhost:8080</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview-of-api-methods">Overview of API methods<a href="#overview-of-api-methods" class="hash-link" aria-label="Direct link to Overview of API methods" title="Direct link to Overview of API methods">​</a></h2><p>The section below will outline the responsibilities of the different API methods.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-status">API status<a href="#api-status" class="hash-link" aria-label="Direct link to API status" title="Direct link to API status">​</a></h3><p>The <code>/status</code> method can be used to check the availability of your application (if the service is running). This is not essential to passkey applications, but overall a best practice</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="registration">Registration<a href="#registration" class="hash-link" aria-label="Direct link to Registration" title="Direct link to Registration">​</a></h3><p>The <code>/attestation</code> methods will be used to register a new passkey. Methods for the WebAuthn registration flow requires two calls.</p><p>The first call (<a href="http://localhost:8080/swagger-ui/index.html#/v1/serverPublicKeyCredentialCreationOptionsRequest" target="_blank" rel="noopener noreferrer"><code>/attestation/options</code></a>) is used to receive an object that includes the options/configurations that should be used when creating a new credential.</p><p>The second call (<a href="http://localhost:8080/swagger-ui/index.html#/v1/serverAuthenticatorAttestationResponse" target="_blank" rel="noopener noreferrer"><code>/attestation/result</code></a>) is used to send the newly created passkey to be stored in the RP.</p><p>This topic will be covered in more detail in the following section on <a href="/docs/relying-party/reg-flow">Registration Flows</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">​</a></h3><p>The <code>/assertion</code> methods will be used to authenticate using the authenticator that generated your passkey. Methods for the WebAuthn authentication flow requires two calls.</p><p>The first call (<a href="http://localhost:8080/swagger-ui/index.html#/v1/serverPublicKeyCredentialGetOptionsRequest" target="_blank" rel="noopener noreferrer"><code>/assertion/options</code></a>) is used to receive an object that includes the options/configurations that should be used when trying to validate a challenge for authentication.</p><p>The second call (<a href="http://localhost:8080/swagger-ui/index.html#/v1/serverAuthenticatorAssertionResponse" target="_blank" rel="noopener noreferrer"> <code>/assertion/result</code></a>) is used to send the signed challenge to verify if a valid credential was used.</p><p>This topic will be covered in more detail in the following section on <a href="/docs/relying-party/auth-flow">Authentication Flows</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="credential-management">Credential management<a href="#credential-management" class="hash-link" aria-label="Direct link to Credential management" title="Direct link to Credential management">​</a></h3><p>The <code>/user/credentials</code> methods will provide credential management. In passkey applications, credential management refers to the process of managing a user&#x27;s credential by allowing them to delete or rename a credential.</p><p>In the current paradigm, <strong>password</strong> management best practices dictate that a user should rotate, or change their password frequently. This rotation is not needed for passkeys - in fact, the user should never be allowed to change the credential that was passed to the relying party.</p><p>The user should only have two options:</p><ul><li>Update attributes that are used to help them identify a passkey (like a nickname)</li><li>Delete the passkey from the RP (good in the case of a lost or stolen authenticator)</li></ul><p>Both of these options are provided in our example. They can be tested once a credential has been registered to the RP.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/YubicoLabs/passkey-workshop/tree/main/docs/docs/relying-party/api-def.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/relying-party"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Relying Party</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/relying-party/config-and-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data sources and RP configurations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#accessing-the-api-documentation" class="table-of-contents__link toc-highlight">Accessing the API documentation</a></li><li><a href="#overview-of-api-methods" class="table-of-contents__link toc-highlight">Overview of API methods</a><ul><li><a href="#api-status" class="table-of-contents__link toc-highlight">API status</a></li><li><a href="#registration" class="table-of-contents__link toc-highlight">Registration</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#credential-management" class="table-of-contents__link toc-highlight">Credential management</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Passkey resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://passkey.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Passkey.org</a></li><li class="footer__item"><a href="https://passkeys.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Passkeys.dev</a></li><li class="footer__item"><a href="https://developers.yubico.com/Passkeys" target="_blank" rel="noopener noreferrer" class="footer__link-item">developers.yubico.com</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/passkey" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Yubico © 2023. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b5a32301.js"></script>
<script src="/assets/js/main.1b0737be.js"></script>
</body>
</html>